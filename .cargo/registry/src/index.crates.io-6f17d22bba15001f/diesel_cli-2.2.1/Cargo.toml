# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2021"
rust-version = "1.78.0"
name = "diesel_cli"
version = "2.2.1"
include = [
    "src/**/*.rs",
    "tests/**/*.rs",
    "LICENSE-*",
    "README.md",
    "src/default_files/diesel.toml",
    "src/infer_schema_internals/load_foreign_keys.sql",
    "src/setup_sql/postgres/initial_setup/down.sql",
    "src/setup_sql/postgres/initial_setup/up.sql",
]
autotests = false
description = "Provides the CLI for the Diesel crate"
homepage = "https://diesel.rs"
documentation = "https://diesel.rs/guides/getting-started"
readme = "README.md"
keywords = [
    "diesel",
    "migrations",
    "cli",
]
license = "MIT OR Apache-2.0"
repository = "https://github.com/diesel-rs/diesel"

[package.metadata.dist]
features = [
    "sqlite-bundled",
    "postgres-bundled",
    "mysql-bundled",
]

[package.metadata.wix]
path-guid = "1730337B-A19D-4DDE-AFA5-983752956861"
upgrade-guid = "AC330981-F4F8-4D8A-AD78-F8B7ECC32DF3"

[[bin]]
name = "diesel"
path = "src/main.rs"
doc = false

[[test]]
name = "tests"

[dependencies.chrono]
version = "0.4.20"
features = [
    "clock",
    "std",
]
default-features = false

[dependencies.clap]
version = "4.4.14"
features = [
    "cargo",
    "string",
]

[dependencies.clap_complete]
version = "4"

[dependencies.diesel]
version = "~2.2.0"
default-features = false

[dependencies.diesel_migrations]
version = "~2.2.0"

[dependencies.diesel_table_macro_syntax]
version = "0.2"

[dependencies.diffy]
version = "0.3.0"

[dependencies.dotenvy]
version = "0.15"

[dependencies.heck]
version = "0.5.0"

[dependencies.libsqlite3-sys]
version = ">=0.17.2, <0.29.0"
optional = true

[dependencies.mysqlclient-sys]
version = "0.4.0"
optional = true

[dependencies.openssl-sys]
version = "0.9.93"
features = ["vendored"]
optional = true

[dependencies.pq-sys]
version = ">=0.4, <0.7.0"
optional = true

[dependencies.regex]
version = "1.0.6"

[dependencies.serde]
version = "1.0.193"
features = [
    "derive",
    "std",
]

[dependencies.serde_regex]
version = "1.1"

[dependencies.syn]
version = "2"
features = ["visit"]

[dependencies.thiserror]
version = "1.0.10"

[dependencies.toml]
version = "0.8"

[dependencies.tracing]
version = "0.1"

[dependencies.tracing-subscriber]
version = "0.3.10"
features = ["env-filter"]

[dependencies.url]
version = "2.2.2"

[dev-dependencies.insta]
version = "1.21"

[dev-dependencies.regex]
version = "1.3.9"

[dev-dependencies.tempfile]
version = "3.1.0"

[features]
default = [
    "postgres",
    "sqlite",
    "mysql",
]
mysql = [
    "diesel/mysql",
    "uses_information_schema",
]
mysql-bundled = [
    "mysql",
    "dep:mysqlclient-sys",
    "mysqlclient-sys/bundled",
]
postgres = [
    "diesel/postgres",
    "uses_information_schema",
]
postgres-bundled = [
    "postgres",
    "dep:pq-sys",
    "pq-sys/bundled",
    "dep:openssl-sys",
]
sqlite = ["diesel/sqlite"]
sqlite-bundled = [
    "sqlite",
    "dep:libsqlite3-sys",
    "libsqlite3-sys/bundled",
]
uses_information_schema = []
